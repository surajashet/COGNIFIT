<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Cognifit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
 
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
 
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="logo">
                <img src="{{ url_for('static', filename='logo.png') }}" alt="CogniFit Logo">
            </div>
           
            <div class="user-menu">
    {% if session.get('user_id') %}
        <div class="user-profile">
            <div class="avatar">{{ session.get('username')[0]|upper }}</div>
            <span>{{ session.get('username') }}</span>
        </div>
    {% else %}
        <a href="{{ url_for('login') }}" class="btn btn-primary" style="margin-right:10px;">Login</a>
        <a href="{{ url_for('signup') }}" class="btn btn-primary">Signup</a>
    {% endif %}
</div>
 
 
        </header>
 
        <!-- Sidebar -->
        <aside class="sidebar">
    <a href="{{ url_for('dashboard') }}" class="nav-item {% if request.path == '/dashboard' %}active{% endif %}">
        <i class="fas fa-home"></i>
        <span>Dashboard</span>
    </a>

    <a href="#" class="nav-item {% if request.path == '/progress' %}active{% endif %}" onclick="alert('Progress page coming soon!')">
        <i class="fas fa-chart-line"></i>
        <span>Progress</span>
    </a>

    <a href="{{ url_for('recipes') }}" class="nav-item {% if request.path == '/recipes' %}active{% endif %}">
        <i class="fas fa-utensils"></i>
        <span>Recipes</span>
    </a>

    <a href="{{ url_for('cycle_form') }}" class="nav-item {% if request.path == '/cycle' %}active{% endif %}">
        <i class="fas fa-female"></i>
        <span>Cycle Tracking</span>
    </a>

    <a href="{{ url_for('blogs') }}" class="nav-item {% if request.path == '/blogs' %}active{% endif %}">
        <i class="fas fa-newspaper"></i>
        <span>Blogs</span>
    </a>

    <a href="{{ url_for('calendar') }}" class="nav-item {% if request.path == url_for('calendar') %}active{% endif %}">
        <i class="fas fa-calendar-alt"></i>
        <span>Calendar</span>
    </a>

   <a href="{{ url_for('snap') }}" class="nav-item {% if request.path == url_for('snap') %}active{% endif %}">
    <i class="fas fa-camera"></i>
    <span>Snap</span>
</a>


    <a href="{{ url_for('settings') }}" class="nav-item {% if request.path == url_for('settings') %}active{% endif %}">
        <i class="fas fa-cog"></i>
        <span>Settings</span>
    </a>

    <a href="{{ url_for('logout') }}" class="nav-item">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
    </a>
</aside>

 
        <!-- Main Content -->
        <main class="dashboard-content">
            <!-- Welcome Banner -->
            <div class="welcome-banner">
                <div class="welcome-text">
                    <h2>Welcome back, {{ user_name }}! ðŸ‘‹</h2>
                    <p id="daily-affirmation">Your journey to better health starts with small steps every day.</p>
                </div>
 
                <div class="date-display">
                    <i class="fas fa-calendar"></i>
                    <span id="current-date"></span>
                </div>
            </div>

            <!-- Health Stats Section - NEW SECTION ADDED -->
            <div class="health-stats-section">
                <div class="health-stats-card">
                    <h3>Your Health Profile</h3>
                    <div class="stats-grid">
                        {% if user_data %}
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-ruler-vertical"></i>
                                </div>
                                <div class="stat-content">
                                    <label>Height</label>
                                    <span class="stat-value">{{ user_data.height }} cm</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-weight"></i>
                                </div>
                                <div class="stat-content">
                                    <label>Weight</label>
                                    <span class="stat-value">{{ user_data.weight }} kg</span>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-heartbeat"></i>
                                </div>
                                <div class="stat-content">
                                    <label>BMI</label>
                                    <span class="stat-value">{{ bmi }} 
                                        <small class="bmi-category {{ bmi_category|lower|replace(' ', '-') }}">
                                            ({{ bmi_category }})
                                        </small>
                                    </span>
                                </div>
                            </div>
                            {% if user_data.age %}
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-birthday-cake"></i>
                                </div>
                                <div class="stat-content">
                                    <label>Age</label>
                                    <span class="stat-value">{{ user_data.age }} years</span>
                                </div>
                            </div>
                            {% endif %}
                            {% if user_data.activity_level %}
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-running"></i>
                                </div>
                                <div class="stat-content">
                                    <label>Activity Level</label>
                                    <span class="stat-value">{{ user_data.activity_level|title }}</span>
                                </div>
                            </div>
                            {% endif %}
                            {% if user_data.goals %}
                            <div class="stat-item full-width">
                                <div class="stat-icon">
                                    <i class="fas fa-bullseye"></i>
                                </div>
                                <div class="stat-content">
                                    <label>Goals</label>
                                    <span class="stat-value">{{ user_data.goals|replace(',', ', ') }}</span>
                                </div>
                            </div>
                            {% endif %}
                        {% else %}
                            <div class="no-data full-width">
                                <div class="no-data-icon">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                                <h4>Complete Your Profile</h4>
                                <p>Finish onboarding to see your health stats and get personalized recommendations</p>
                                <a href="{{ url_for('onboarding') }}" class="btn btn-primary">
                                    Complete Onboarding
                                </a>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Daily Affirmation Card -->
            <div class="affirmation-card">
                <div class="affirmation-icon">
                    <i class="fas fa-quote-left"></i>
                </div>
                <div class="affirmation-content">
                    <h3>Today's Inspiration</h3>
                    <p id="affirmation-text">"Progress, not perfection. Every healthy choice matters."</p>
                </div>
            </div>
 
            <!-- Charts Section - Empty States -->
            <div class="charts-section">
                <div class="chart-card empty-state">
                    <div class="chart-header">
                        <div class="chart-title">Activity Tracking</div>
                    </div>
                    <div class="empty-chart-container">
                        <div class="empty-chart-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>No Activity Data Yet</h3>
                        <p>Start logging your workouts to see your progress here</p>
                        <button class="btn btn-secondary" onclick="alert('Workout logging coming soon!')">
                            Log First Workout
                        </button>
                    </div>
                </div>
               
                <div class="chart-card empty-state">
                    <div class="chart-header">
                        <div class="chart-title">Nutrition Overview</div>
                    </div>
                    <div class="empty-chart-container">
                        <div class="empty-chart-icon">
                            <i class="fas fa-apple-alt"></i>
                        </div>
                        <h3>No Nutrition Data</h3>
                        <p>Track your meals to see macro breakdown and insights</p>
                        <button class="btn btn-secondary" onclick="alert('Meal tracking coming soon!')">
                            Track First Meal
                        </button>
                    </div>
                </div>
            </div>

            <!-- Weekly Motivation -->
            <div class="motivation-section">
                <div class="motivation-card">
                    <div class="motivation-header">
                        <i class="fas fa-star"></i>
                        <h3>Weekly Focus</h3>
                    </div>
                    <p id="weekly-focus">"This week, focus on consistency over intensity. Small, daily efforts lead to lasting results."</p>
                </div>
                
                <div class="motivation-card">
                    <div class="motivation-header">
                        <i class="fas fa-heart"></i>
                        <h3>Health Tip</h3>
                    </div>
                    <p id="health-tip">Remember to stay hydrated! Drinking enough water supports both physical and mental performance.</p>
                </div>
            </div>
        </main>
    </div>

    <style>
        /* Health Stats Section Styles */
        .health-stats-section {
            margin-bottom: 30px;
        }

        .health-stats-card {
            background: var(--text-light);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border-left: 4px solid var(--primary-color);
        }

        .health-stats-card h3 {
            margin-bottom: 20px;
            color: var(--text-dark);
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .health-stats-card h3::before {
            content: "ðŸ“Š";
            font-size: 1.2em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .stat-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .stat-item.full-width {
            grid-column: 1 / -1;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1rem;
        }

        .stat-content {
            flex: 1;
        }

        .stat-content label {
            display: block;
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            display: block;
        }

        .bmi-category {
            font-size: 0.8rem;
            padding: 2px 8px;
            border-radius: 12px;
            margin-left: 5px;
        }

        .bmi-category.underweight {
            background: #fff3cd;
            color: #856404;
        }

        .bmi-category.normal-weight {
            background: #d1edff;
            color: #0c5460;
        }

        .bmi-category.overweight {
            background: #fff3cd;
            color: #856404;
        }

        .bmi-category.obese {
            background: #f8d7da;
            color: #721c24;
        }

        .no-data {
            text-align: center;
            padding: 30px 20px;
            color: #666;
        }

        .no-data-icon {
            width: 60px;
            height: 60px;
            background: rgba(171, 200, 95, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 24px;
            color: var(--primary-color);
        }

        .no-data h4 {
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .no-data p {
            margin-bottom: 20px;
            max-width: 300px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Affirmation Card Styles */
        .affirmation-card {
            background: linear-gradient(135deg, var(--primary-color) 0%, #8fb351 100%);
            color: var(--text-light);
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: var(--card-shadow);
        }

        .affirmation-icon {
            font-size: 2.5rem;
            opacity: 0.8;
        }

        .affirmation-content {
            flex: 1;
        }

        .affirmation-content h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .affirmation-content p {
            font-size: 1.1rem;
            margin-bottom: 0;
            font-style: italic;
            opacity: 0.95;
            min-height: 60px;
            display: flex;
            align-items: center;
            transition: opacity 0.5s ease;
        }

        /* Motivation Section Styles */
        .motivation-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .motivation-card {
            background: var(--text-light);
            padding: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
            border-left: 4px solid var(--primary-color);
        }

        .motivation-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .motivation-header i {
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .motivation-header h3 {
            color: var(--text-dark);
            font-size: 1.1rem;
            margin: 0;
        }

        .motivation-card p {
            color: #666;
            line-height: 1.6;
            margin: 0;
            min-height: 80px;
            display: flex;
            align-items: center;
            transition: opacity 0.5s ease;
        }

        /* Empty State Styles */
        .empty-state {
            display: flex;
            flex-direction: column;
        }

        .empty-chart-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
        }

        .empty-chart-icon {
            width: 80px;
            height: 80px;
            background: rgba(171, 200, 95, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 32px;
            color: var(--primary-color);
        }

        .empty-chart-container h3 {
            margin-bottom: 10px;
            color: var(--text-dark);
        }

        .empty-chart-container p {
            color: #666;
            margin-bottom: 20px;
            max-width: 250px;
        }
    </style>
 
    <script>
    // Set current date
    const now = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);

    // Affirmation quotes
    const affirmations = [
        "Progress, not perfection. Every healthy choice matters.",
        "Your body hears everything your mind says. Stay positive.",
        "Small steps every day lead to big results over time.",
        "You are stronger than you think. Keep going!",
        "Health is wealth, and you're investing in yourself.",
        "Every workout is a step toward a better you.",
        "Consistency is the key to lasting change.",
        "Your journey is unique - celebrate every milestone.",
        "Strength grows in moments of challenge.",
        "Today's effort is tomorrow's achievement.",
        "Your health is an investment, not an expense.",
        "Every healthy meal is an act of self-love.",
        "You have the power to create the health you deserve.",
        "Progress may be slow, but quitting won't speed it up.",
        "Your commitment to health inspires others around you.",
        "Each day is a new opportunity to feel better.",
        "Your wellness journey is a marathon, not a sprint.",
        "Listen to your body - it knows what it needs.",
        "You're building habits that will last a lifetime.",
        "Rest is just as important as activity for growth."
    ];

    // Daily motivation tips
    const dailyMotivations = [
        "Your journey to better health starts with small steps every day.",
        "Every healthy choice you make is a victory worth celebrating.",
        "Today is a new opportunity to nourish your body and mind.",
        "Remember why you started - your future self will thank you.",
        "You're not just changing your body, you're transforming your life.",
        "Consistency creates results that last forever.",
        "Your health is the foundation for everything you want to achieve.",
        "Each healthy habit brings you closer to your best self.",
        "Wellness is a journey of self-discovery and growth.",
        "You have the strength to make today a great day for your health."
    ];

    // Weekly focus messages
    const weeklyFocuses = [
        "This week, focus on consistency over intensity. Small, daily efforts lead to lasting results.",
        "Prioritize sleep and recovery this week - they're essential for progress.",
        "Focus on mindful eating. Pay attention to hunger cues and enjoy each bite.",
        "This week, try adding one new vegetable to your meals each day.",
        "Make hydration your priority - carry a water bottle with you everywhere.",
        "Focus on positive self-talk. Be kind to yourself throughout your journey.",
        "This week, aim for 30 minutes of movement you enjoy every day.",
        "Practice stress management through deep breathing or short meditation breaks.",
        "Focus on protein intake to support muscle recovery and keep you full longer.",
        "This week, track your meals to build awareness of your eating patterns."
    ];

    // Health tips
    const healthTips = [
        "Remember to stay hydrated! Drinking enough water supports both physical and mental performance.",
        "Aim for 7-9 hours of quality sleep each night for optimal recovery and health.",
        "Include protein in every meal to maintain muscle mass and feel satisfied longer.",
        "Take short movement breaks every hour if you have a desk job - it boosts circulation.",
        "Practice mindful eating by chewing slowly and avoiding distractions during meals.",
        "Don't skip strength training! It's crucial for bone health and metabolism.",
        "Include healthy fats like avocado and nuts for brain function and hormone balance.",
        "Listen to your body's hunger and fullness signals - they're your best guide.",
        "Variety is key! Rotate different vegetables and proteins throughout the week.",
        "Celebrate non-scale victories like better sleep, more energy, and improved mood."
    ];

    // Function to get random item from array
    function getRandomItem(array) {
        const randomIndex = Math.floor(Math.random() * array.length);
        return array[randomIndex];
    }

    // Function to update all inspirational content with smooth transition
    function updateInspirationalContent() {
        // Fade out
        const elements = [
            document.getElementById('affirmation-text'),
            document.getElementById('daily-affirmation'),
            document.getElementById('weekly-focus'),
            document.getElementById('health-tip')
        ];
        
        elements.forEach(element => {
            if (element) element.style.opacity = '0';
        });

        // Update content after fade out
        setTimeout(() => {
            document.getElementById('affirmation-text').textContent = `"${getRandomItem(affirmations)}"`;
            document.getElementById('daily-affirmation').textContent = getRandomItem(dailyMotivations);
            document.getElementById('weekly-focus').textContent = `"${getRandomItem(weeklyFocuses)}"`;
            document.getElementById('health-tip').textContent = getRandomItem(healthTips);
            
            // Fade in
            elements.forEach(element => {
                if (element) element.style.opacity = '1';
            });
        }, 500);
    }

    // Initialize content
    updateInspirationalContent();

    // Update content every 5 minutes (300,000 milliseconds)
    setInterval(updateInspirationalContent, 5 * 60 * 1000);

    // Initialize empty charts
    function initializeEmptyCharts() {
        console.log('Charts will be initialized when real user data is available');
    }

    initializeEmptyCharts();
</script>
<script>
    (function() {
      const script = document.createElement('script');
      script.src = 'https://assistloop.ai/assistloop-widget.js';
      script.onload = function() {
        AssistLoopWidget.init({
          agentId: "cd011257-5e85-4365-a74a-abc0020cabfe" 
        });
      };
      document.head.appendChild(script);
    })();
  </script>
   
           
       
</body>
</html>